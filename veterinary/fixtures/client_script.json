[
 {
  "docstatus": 0,
  "doctype": "Client Script",
  "dt": "Patient Name",
  "enabled": 1,
  "modified": "2025-12-19 12:29:29.733772",
  "module": "Veterinary",
  "name": "is vaccinated",
  "script": "frappe.ui.form.on('Patient Name', {\n\n    // Trigger on form load and whenever \"vaccinated\" changes\n    refresh: function(frm) {\n        toggle_vaccine_date(frm);\n    },\n\n    vaccinated: function(frm) {\n        toggle_vaccine_date(frm);\n    }\n\n});\n\n// Helper function\nfunction toggle_vaccine_date(frm) {\n    if (frm.doc.vaccinated) {\n        frm.set_df_property('next_vaccination_date', 'hidden', 0);  // show\n    } else {\n        frm.set_df_property('next_vaccination_date', 'hidden', 1);  // hide\n        frm.set_value('next_vaccination_date', null);               // clear value\n    }\n}\n",
  "view": "Form"
 },
 {
  "docstatus": 0,
  "doctype": "Client Script",
  "dt": "Patient Name",
  "enabled": 1,
  "modified": "2025-12-19 11:42:02.565185",
  "module": "Veterinary",
  "name": "view history from patient name",
  "script": "frappe.ui.form.on('Patient Name', {\n    refresh: function(frm) {\n        if (!frm.is_new()) {\n            frm.add_custom_button('View Medical History', function() {\n\n                // 1️⃣ Inject filters\n                frappe.route_options = {\n                    patient_owner: frm.doc.pet_owner,\n                    patient_name: frm.doc.patient_name\n                };\n\n                // 2️⃣ Navigate\n                frappe.set_route('query-report', 'Patient Medical History');\n            });\n        }\n    }\n});\n",
  "view": "Form"
 },
 {
  "docstatus": 0,
  "doctype": "Client Script",
  "dt": "Patient Name",
  "enabled": 1,
  "modified": "2025-12-19 12:56:11.258217",
  "module": "Veterinary",
  "name": "pet preview image",
  "script": "frappe.ui.form.on('Patient Name', {\n    refresh: function(frm) {\n        // Render preview on refresh\n        render_image_preview(frm);\n    },\n    photo: function(frm) {\n        // Update preview whenever image changes\n        render_image_preview(frm);\n    }\n});\n\nfunction render_image_preview(frm) {\n    const field = frm.fields_dict.image_preview.$wrapper;\n    const file_url = frm.doc.image; // this is the file URL\n\n    if (file_url) {\n        field.html(`<img src=\"${file_url}\" style=\"max-width:200px; max-height:200px; border:1px solid #ccc; padding:4px;\">`);\n    } else {\n        field.html('<p>No image attached</p>');\n    }\n}",
  "view": "Form"
 },
 {
  "docstatus": 0,
  "doctype": "Client Script",
  "dt": "Post Mortem Report",
  "enabled": 1,
  "modified": "2025-12-19 13:12:05.258143",
  "module": "Veterinary",
  "name": "image on post moterm",
  "script": "frappe.ui.form.on('Post Mortem Report', {\n    refresh: function(frm) {\n        // Render preview on refresh\n        render_image_preview(frm);\n    },\n    photo: function(frm) {\n        // Update preview whenever image changes\n        render_image_preview(frm);\n    }\n});\n\nfunction render_image_preview(frm) {\n    const field = frm.fields_dict.image_preview.$wrapper;\n    const file_url = frm.doc.image; // this is the file URL\n\n    if (file_url) {\n        field.html(`<img src=\"${file_url}\" style=\"max-width:200px; max-height:200px; border:1px solid #ccc; padding:4px;\">`);\n    } else {\n        field.html('<p>No image attached</p>');\n    }\n}",
  "view": "Form"
 }
]